<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
   <meta http-equiv="content-type" content="text/html;charset=utf-8">
   <title>Documentation for Visper</title>
   <link rel="stylesheet" href="visper.css">
   <div style="margit-left: 10%">
</head>

<body>
<h1><center>Welcome to the documentation page of Visper</center></h1>
<table>
   <tr>
   <td padding=10% >
      <h2>Table of contents</h2>
   </td>
   <td>
      <h2>The code</h2>
   </td>
   </tr>
   <tr>
   <td>
      <nav role="navigation" class="table-of-contents">
         <ol>
            <li><a href="#main">General information</a></li>
            <li><a href="#call">Calling the script</a></li>
            <li><a href="#input">Input</a></li>
            <li><a href="#model">Available models</a></li>
            <li><a href="#options">Options</a></li>
            <li><a href="#broaden">Calculate a line-shaped spectrum</a></li>
         </ol>
      </nav>
   </td>
   <td>
      <ul class="navbar">
      <li><a href="VispeR.html">main program code</a>
      <li><a href="Spect.html">Class Spect</a>
      <li><a href="FC_spects.html">Derived Classes FC</a>
      <li><a href="DR_spects.html">Derived Classes DR</a>
      <li><a href="Btree.html">Dependent Class Btree</a>
      <li><a href="OPA.html">Dependent Class OPA</a>
      <li><a href="Read.html">Class Read</a>
      <li><a href="MultiPart.html">Class MultiPart</a>
      </ul>
   </td>
   </tr>
</table>
for explanations of the output of the calculations, see <a href="output.html">output-documentation</a><br>
Moreover, some explanations of the models in use are available <a href="models.html">here</a>.
<p>Requirements to the log-files used are specified at <a href="input.html">this</a> page. </p>
<!-- Main content -->

<h1 id="main">General Information</h1>
<p> Visper, formerly called smallscript is an acronym for</p> 
   <b>Vi</b>bronic <b>spe</b>ctrum calculato<b>r</b>
   or <b>Vi</b>bronic <b>spe</b>ctra from <b>R</b>ostock, depending on your personal favour
   <p>Hence, it is a python-script for calculating vibronic spectra; being able to work on different levels of theory.
   There are different <a href=models.html>models</a> available to be used.</p> 

<h2 id="#call">Calling the script</h2>
<p> Visper is invoked with only an input-file as argument that contains all options. </p>

<h1 id="#input">Input</h1>
<p>The input-file consists of several sections and is very free in format: Most options are read case-insensitive and the order does not matter as well as separation of different options. 
However, to avoid confusion and errors in the parser of visper, it is sensible to write the different sections in different lines. 
A line break within one section is not allowed however.
</p>
There are three mandatory sections:
<ul>
   <li>The keword <b>model</b> specifies the method that should be used for the calculation of the spectrum. Possible options are:
   <table>
   <th>
   <td>
      <ul>
      <li>HF </li> 
      <li>FC </li> 
      </ul>
   </td>
   <td>
      <ul>
      <li>CFC</li> 
      <li>DR </li> 
      </ul>
   </td>
   <td>
      <ul>
      <li>URDR</li>
      </ul>
   </th>
   </table>
      For information about this, see the <a href="#model">section about models </a> or the more detailed <a href="models.html">page</a> about implemented models.
   </li>
   <li>With <b>initial:</b> you specify the file that contains the information of initial state. </li>
   <li>With <b>final:</b> you specify the file that contains the information of final state. </li>
</ul>
<p>As input-files, the <a href="#log">log-files</a> from the different quantum-chemical programme-packages can be used. </p>

<p>In addition to these options, there are four additional, non-mandatory sections: </p>
<ul>
   <li> With the key word <b>out:</b> you can specify an output-file. By default it is called 'calculation.log'.</li>
   <li>The option <b>print:</b> gives you controll over the output-verbosity of visper. Possible levels are:
      <table>
      <tr>
         <td> <b>0</b> or <b>all</b> for most verbose output  </td>
         <td>    <b>1</b> or <b>detailed</b>  </td>
      </tr>
      <tr>
         <td> <b>2</b> or <b>medium</b> (default case)  </td>
         <td>   <b>3</b> or <b>important</b>  </td>
      </tr>
      <tr>
         <td> <b>4</b> <b>short</b>  </td>
         <td>  </td>
      </tr>
   </table>
   </li>
   <li>Most options to the script are set after the keyword <b>opt:</b>.
   While some options are specific to the model in use (and are shown below), there are some options that are always valid:
   <ul>
      <li> system temperature: <b>T=</b> (in K, default 300)</li>
      <li> highest vibrational number (initial state): <b>states=number</b>  (default is 5) </li>
      <li> highest vibrational number (intial state, final state): <b>states=number1, number2</b> </li>
   </ul>
   </li>
   <li> To calculate broadened spectrum, specify <b>broaden</b>. Here <a href="#broaden">several options</a> are possible. </li>
</ul>

<h1 id="#model">Available models</h1>
      <ul>
          <li>HF -> This model is a bit special and not supported at the moment. It will be used to calculate a spectrum using just the Huang-Rhys factors
                    and respective frequencies to calculate a fully harmonic spectrum.</li> 
          <li>FC -> In this model, a purely harmonic spectrum is calculated in Franck-Condon picture.</li>
          <li>CFC -> This model is also Franck-Condon based but includes a correction due frequencies differing between the initial and final electronic states. </li>
          <li>DR  -> With this option, a spectrum is calculated that takes also Duschinsky rotation into account. In this model restrictions due to the
                   number of changeing vibrational modes are given.</li>
          <li>URDR -> This model is the least restrictive; it allowes for full spectrum calculation including Duschinsky rotation.</li>
      </ul>
<h1 id="#options">Options</h1>

to control the number of matrix-elements that are printed aside of each other, specify <b>width=</b> .
<h2 id="#log">Log-files</h2>
There are multiple file-types possible:
<ul>
   <li>NWChem output files (.nwo)</li>
   <li>GAMESS output files (.gao)</li>
   <li>Gaussian output files (.log)</li>
   <li>Gaussian formcheck files (.fchk, .FCHK)</li>
</ul>
<p> Except for the formcheck-files, the ending does not matter.</p>
It is even possible to combine outputs from different packages. None the less, both files specified should contain:
the geometries
the force constant matrix
the energies
<h1 href="#broaden">Calculate a line-shaped spectrum</h1>
One of the main features is the broadening of the spectrum with some line-shape.
The following options are available to controll the spectrum:
   <ul>
   <li> The keyword <b>gamma=</b> specifies the broadening-parameter (Lorentzian) or respective Gaussian parameter (with same FWHM) in cm^-1.</li>
   <li> The broadenend spectrum is calculated (and printed) on a grid that is controlled via <b>grid=</b>.
         For this, there are three options:
         <ol>
         <li> given a string, this is interpreted as a file (containing list of gridpoints in cm^-1).</li>
         <li> given three numbers, separated by ';', you can specify the number of points (default: 5000), minimum energy, maximum energy</li>
         <li> with only one number you give the  number of points (minimum and maximum will be taken from default) </li>
         </ol> </li>
   <!-- <li> The option <b> linspect=</b> specifies file with a line-spectrum already calculated </li> -->
   <li><b> stick</b> specifies, whether the stick-spectrum should be printed or not 
   (by printing stick it is enabled).</li>
   <li>Using the keyword <b>spectfile=</b> you specy a file where the spectrum should be saved. 
   By default it is written into the log-file.</li>
   <li> The shape of the broadening function is controlled via <b>shape=</b> where possible options are: Gaussian (g) or Lorentzian (l).</li>
   <li> The option <b>to nPA:"n"</b> with some number n>1 you can calculate a full spectrum instead of the default one-particle approximation.
      This option is ignored in case of Duschinsky-rotated spectra.</li>
   </ul>
</body>
</html>
