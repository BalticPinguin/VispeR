The smallscript is used as follows:

==CALL ==
if the script is located in the current folder
 ./smallscript.py <input>
if the script is located in a executable folder
 smallscript.py <input>

where <input> is a custom file specifying all calculations to be done (see sect. input)

==INPUT==
The smallscript can do four different tasks that can be called separately:
'HR-fact()'          Calculate Huang-Rhys factors using G09-log files 
'FC-spect()'         Calculate spectra in FC-picture using G09-log files or HR-factors 
'Duschinsky-spect()' Calculate Duschinsky-rotated spectra using G09-log files
'Broadening()'       Calculate broadened spectra from line-spectrum 

where the G09-files need to include geometry and force-constant matrix for different electronic states.

Further, the sources are specified as:
'initial: ' 	specifies G09-log files for initial electronic states geometries (multiple files separated by ',')
'final: '	specifies G09-log files for final electronic states geomitries
'HR-file: '	specifies file containing HR-factors (1. column) and frequencies (second column)
'linespect: '	specifies file containing line-spectrum (intensity  frequency  [mode-number])
'out:'		specify file the output should be saved in; default is 'calculation.log'.
		If the file already exists, the logging-information will be appended.

The order of the arguments is not important; further they are read case-insensitive.
If HR-fact() and FC-spect() are both specified in the same file, the newly calculated HR-factors are taken, even if HR-file is specified.

===OPTIONS===
1: HR-fact()
makeLog	       to create file in style of G09-log files
print=<level>  specifies, how detailed the output should be printed
		where level is: all, detailed, medium, important, short ; 
method:        gradient (or written 'Gradient' or "grad"): Use the gradient in excited state at ground state geometry
                and assume non-changing frequencies to calculate the shift of normal modes and HR-factors respectively
                need: a g09-file containing gradient of final state at ground state geometry (). 
                This method is valid only if no DR-spectrum is to be calculated.
               shift (or written 'SHIFT' or 'Shift'): Calculate the change of normal modes by the shift of equilibrium
                positions; needs force constant matrix and optimised geometries in both states
                default procedure is shift

2: FC-spect()
print=<level>	specifies, how detailed the output should be printed
		where level is: all, detailed, medium, important, short ; 
broaden()	to calculate the broadened spectrum as well, options for this: see Broadening()
particles: 1, 2 OPA/TPA (if not specified: calculate OPA ##########throw this out!
	        attention: The TPA-part here is computationally expensive, since all TPA-transitions are taken 
		into account explicitly. Use broaden(to 2PA) broaden(to nPA:2 ) instead.
states=<>	max. number of vibrational states (default is 5). Be careful about harmonic approximation!
T=<number in K> specifies temperature of system (default: 300K)
method:        gradient (or written 'Gradient' or "grad"): Use the gradient in excited state at ground state geometry
                and assume non-changing frequencies to calculate the shift of normal modes and HR-factors respectively
                need: a g09-file containing gradient of final state at ground state geometry (). 
                This method is valid only if no DR-spectrum is to be calculated.
               shift (or written 'SHIFT' or 'Shift'): Calculate the change of normal modes by the shift of equilibrium
                positions; needs force constant matrix and optimised geometries in both states
                default procedure is shift

3: Duschinsky-spect()
print=<level>	specifies, how detailed the output should be printed
		where level is: all, detailed, medium, important, short ; 
broaden()	to calculate the broadened spectrum as well; options for this: see Broadening()
states=<>	max. number of vibrational states (default is 5). Be careful about harmonic approximation!
T=<number in K>  specifies temperature of system (default: 300K
model=<>	specify, which model should be used within Duschinsky-picture:
		'Simple' simple model uses OPA and no resorting of modes; this is assumed to have very big errors 
			(don't use it)
		'Resort' here the normal modes are resorted and all highest transitions are taken into account (default)
		'Distributing' besides the transitions between states of same number, also transitions between different
			vibrational states are taken into account.
      'maxshift=<>'     if model=Distributing is specified: this parameter specifies the number 
                        of modes to left and right hand side taken into account. Default is 6.
		'Unrestricted' Don't use OPA but a full particle-picture; restricted by number of modes 
		 	(at the moment fixed to number of 10)
      'modes=<>'	if model=unrestricted, with this parameter one can set the number of modes that are calculated in
			the spectrum. The truncation is due to the shift of normal modes, assuming this is a valid 
			quantity for coupling strength as well.

4: Broadening() /broaden()
T=		Temperature of equilibrated system
gamma=		broadening-parameter (Lorentzian) or respective Gaussian parameter (with same FWHM)
grid=		specify grid: either a file (containing list of gridpoints) or three numbers separated by ','
 		specifying number of points (default: 5000), minimum energy, maximum energy
		or one number: number of points (minimum and maximum will be taken from default
linspect=	specifies file with a line-spectrum already calculated
spectfile=	specifies file where the spectrum should be saved. 
shape=		shape of broadening: Gaussian (g) or Lorentzian (l)
to <n>PA	adds the calculation of n-particle approximation out of given OPA spectrum (n=2,3)
to nPA:<n>	same as above, but using a recursive algorithm; n is not restricted.

===SYNTAX OF SOURCE-FILES===
HR-file:
needs: Delta E=  <in cm^-1>
       HR-fact           freq  <following: list of respective quantities>

further the file may contain arbitrary additional information; hence the output-files of other smallscript-calculations can be used.

line-spect: 
grid: (see broadening) the energies of the grid (in cm^-1) in columns. No further numbers or letters should be contained in the file.

==PLANED ==
accept some parameters (like T) as global ones -> if specified, local parameters are not taken into account
planned parameters for broadening: file to write in 
accept paths for files as well
